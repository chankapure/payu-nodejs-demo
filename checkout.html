<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Nodejs - JavaScript - PAYU - Integration - Checkout</title>
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/simple-line-icons/2.4.1/css/simple-line-icons.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
    />
    <link rel="stylesheet" href="assets/css/style.css" />
  </head>
  <style type="text/css">
    .main {
      margin-left: 30px;
      font-family: Verdana, Geneva, sans-serif, serif;
    }
    .text {
      float: left;
      width: 180px;
    }
    .dv {
      margin-bottom: 5px;
    }
  </style>
  <body>
    <div class="main registration-form">
      <!--// Form with required parameters to be posted to Payment Gateway. For details of each required 
			parameters refer Integration PDF. //-->
      <form action="<%= checkoutUrl %>" id="payment_form" method="Post">
        <div class="row">
          <div class="col-md-12">
            <div class="form-icon">
              <h3>PAYU NODEJS INTEGRATION <%= mode %></h3>
              <span><img src="/images/logo.png" /></span>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <div class="dv">
              <span class="text"><label>Order ID:</label></span>
              <div class="form-group">
                <!-- Required - Unique transaction id or order id to identify and match 
            payment with local invoicing. Datatype is Varchar with a limit of 25 char. //-->
                <input
                  type="text"
                  id="txnid"
                  name="txnid"
                  placeholder="Transaction ID"
                  value="<%= orderid %>"
                  class="form-control item"
                  readonly
                />
              </div>
            </div>

            <div class="dv">
              <span class="text"><label>Amount:</label></span>
              <div class="form-group">
                <!-- Required - Transaction amount of float type. //-->
                <input
                  type="text"
                  id="amount"
                  name="amount"
                  placeholder="Amount"
                  value="6.00"
                  class="form-control item"
                />
              </div>
            </div>

            <div class="dv">
              <span class="text"><label>Product Info:</label></span>
              <div class="form-group">
                <!-- Required - Purchased product/item description or SKUs for future reference. 
            Datatype is Varchar with 100 char limit. //-->
                <input
                  type="text"
                  id="productinfo"
                  name="productinfo"
                  placeholder="Product Info"
                  value="P01,P02"
                  class="form-control item"
                />
              </div>
            </div>

            <div class="dv">
              <span class="text"><label>First Name:</label></span>
              <div class="form-group">
                <!-- Required - Should contain first name of the consumer. Datatype is Varchar with 60 char limit. //-->
                <input
                  type="text"
                  id="firstname"
                  name="firstname"
                  placeholder="First Name"
                  value=""
                  class="form-control item"
                />
              </div>
            </div>

            <div class="dv">
              <span class="text"><label>Last Name:</label></span>
              <div class="form-group">
                <!-- Should contain last name of the consumer. Datatype is Varchar with 50 char limit. //-->
                <input
                  type="text"
                  id="Lastname"
                  name="Lastname"
                  placeholder="Last Name"
                  value=""
                  class="form-control item"
                />
              </div>
            </div>

            <div class="dv">
              <span class="text"><label>Email ID:</label></span>
              <div class="form-group">
                <!-- Required - An email id in valid email format has to be posted. Datatype is Varchar with 50 char limit. //-->
                <input
                  type="text"
                  id="email"
                  name="email"
                  placeholder="Email ID"
                  value=""
                  class="form-control item"
                />
              </div>
            </div>

            <div class="dv">
              <span class="text"><label>Mobile/Cell Number:</label></span>
              <div class="form-group">
                <!-- Required - Datatype is Varchar with 50 char limit and must contain chars 0 to 9 only. 
            This parameter may be used for land line or mobile number as per requirement of the application. //-->
                <input
                  type="text"
                  id="phone"
                  name="phone"
                  placeholder="Mobile/Cell Number"
                  value=""
                  class="form-control item"
                />
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <div class="dv">
              <span class="text"><label>Address1:</label></span>
              <div class="form-group">
                <input
                  type="text"
                  id="address1"
                  name="address1"
                  placeholder="Address1"
                  value=""
                  class="form-control item"
                />
              </div>
            </div>

            <div class="dv">
              <span class="text"><label>Address2:</label></span>
              <div class="form-group">
                <input
                  type="text"
                  id="address2"
                  name="address2"
                  placeholder="Address2"
                  value=""
                  class="form-control item"
                />
              </div>
            </div>

            <div class="dv">
              <span class="text"><label>City:</label></span>
              <div class="form-group">
                <input
                  type="text"
                  id="city"
                  name="city"
                  placeholder="City"
                  value=""
                  class="form-control item"
                />
              </div>
            </div>

            <div class="dv">
              <span class="text"><label>State:</label></span>
              <div class="form-group">
                <input
                  type="text"
                  id="state"
                  name="state"
                  placeholder="State"
                  value=""
                  class="form-control item"
                />
              </div>
            </div>

            <div class="dv">
              <span class="text"><label>Country:</label></span>
              <div class="form-group">
                <input
                  type="text"
                  id="country"
                  name="country"
                  placeholder="Country"
                  value=""
                  class="form-control item"
                />
              </div>
            </div>

            <div class="dv">
              <span class="text"><label>Zip Code:</label></span>
              <div class="form-group">
                <!-- Datatype is Varchar with 20 char limit only 0-9. //-->
                <input
                  type="text"
                  id="Zipcode"
                  name="Zipcode"
                  placeholder="Zip Code"
                  value=""
                  class="form-control item"
                />
              </div>
            </div>

            <div class="dv">
              <!-- <span class="text"><label>PG:</label></span> -->
              <div class="form-group">
                <!-- Not mandatory but fixed code can be passed to Payment Gateway to show default payment 
            option tab. e.g. NB, CC, DC, CASH, EMI. Refer PDF for more details. //-->
                <!-- <input type="text" id="Pg" name="Pg" placeholder="PG" value="CC" class="form-control item"/> -->
              </div>
            </div>

            <div class="dv">
              <span class="text"><label>Hash:</label></span>
              <div class="form-group">
                <!-- Required - Hash signature generated based on mandatory 
            parameter values. Refer kit's code for more details. //-->
                <input
                  type="text"
                  id="hash"
                  name="hash"
                  placeholder="Hash"
                  value=""
                  class="form-control item"
                  readonly
                />
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-12">
            <div class="form-group">
              <input
                type="submit"
                class="btn btn-block create-account"
                value="Proceed for Payment"
              />
            </div>
          </div>
        </div>
        <!-- Contains information of integration type. Consult to PayU for more details.//-->
        <input type="hidden" id="udf5" name="udf5" value="Donation Request" />

        <!-- 
          https://devguide.payu.in/merchant-integration/payu-hosted-checkout/payu-hosted-checkout-integration/

          This parameter signifies the payment category (tab) that you want the customer to see by default on the PayU page. Hence, if pg=’NB’, after redirection to PayU’s payment page, the Net Banking option would be opened by default.
(pg parameter may take different values like: NB for Net Banking tab, CC for Credit Card tab, DC for Debit Card tab, and EMI for EMI tab)
Note: pg = CC, that is, Credit Card tab is recommended. If pg is left empty, CC will be taken as default. //-->
        <!-- <input type="hidden" id="pg" name="pg" value="NB" /> -->

        <!--
          https://devguide.payu.in/merchant-integration/payu-hosted-checkout/checkout-customisations/#Hiding_Spec_Pymt_Modes 

          The drop_category parameter can be used if you want to hide one or multiple payment options. For example, if you consider the payment options such as credit card, debit card, and net banking, you can hide the credit card mode of payment. //-->
        <!-- <input
          type="hidden"
          id="drop_category"
          name="drop_category"
          value="DC|CC|CASH|NB"
        /> -->

        <!-- Required - Response callback url to be used by Payment Gateway to post back payment status. 
			surl - for success tranction, furl - for failure transaction, curl - for cancel transaction. //-->
        <input type="hidden" id="surl" name="surl" value="<%= surl %>" />
        <input type="hidden" id="furl" name="furl" value="<%= furl %>" />
        <input type="hidden" id="curl" name="curl" value="<%= curl %>" />
        <input type="hidden" id="key" name="key" value="<%= key %>" />
      </form>
    </div>
    <!-- Below script is just for using Hash calculation routine. In live integrations different workflows may be used
	to access Hash calculation routine. //-->
    <script
      type="text/javascript"
      src="https://code.jquery.com/jquery-3.2.1.min.js"
    ></script>
    <script type="text/javascript">
      $("#payment_form").bind("keyup blur", function () {
        $.ajax({
          url: "<%= getHashUrl %>",
          type: "post",
          data: JSON.stringify({
            txnid: $("#txnid").val(),
            amount: $("#amount").val(),
            productinfo: $("#productinfo").val(),
            firstname: $("#firstname").val(),
            email: $("#email").val(),
            udf5: $("#udf5").val(),
          }),
          contentType: "application/json",
          dataType: "json",
          success: function (json) {
            $("#hash").val(json);
          },
        });
      });
    </script>
  </body>
</html>
